<hr />
<div class="coffeeShopFull shadow-sm p-3 mb-5  rounded">
  <div class="row">
    <div class="col-sm-4">
      <table class="table">
        <tbody>
          <tr>
            <td><img src={{coffeeShop.iconPath}} class="img-fluid" /></td>
            <td class="coffeeShopName fancyFont">{{coffeeShop.name}}</td>
          </tr>
          <tr>
            <td class="iconsCenter"><img src="../../assets/locationPointIcon.png" class="img-fluid" /></td>
            <td><a href="https://www.google.com/maps/search/?api=1&query={{coffeeShop.address}}" target="_blank">{{coffeeShop.address}}</a></td>
          </tr>
          <tr>
            <td class="iconsCenter"><img src="../../assets/telephoneIcon.png" class="img-fluid" /></td>
            <td><a href="tel:{{coffeeShop.telephone}}">{{coffeeShop.telephone}}</a></td>
          </tr>
          <tr>
            <td class="iconsCenter"><img src="../../assets/websiteIcon.png" class="img-fluid" /></td>
            <td><a href="http://{{coffeeShop.website}}" target="_blank">{{coffeeShop.website}}</a></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-sm-8 scrollable">
      <table class="table" >
        <tbody>
          <a class="undecoratedLink" [routerLink]="activeTab === 'reviews' && selectedCoffee != undefined ? [{ outlets: {detailsView: ['coffee', coffeeShop.coffees[selectedCoffee].id, 'reviews' ] } }] : []">
            <tr *ngFor="let coffeeItem of coffeeShop.coffees; let coffeeIndex = index" id={{coffeeIndex}} (click)="onClick(coffeeIndex)" [ngClass]="clickedCoffees[coffeeIndex] ? 'trClicked': 'trHover'">
              <td><img src="../../assets/cap.jpg" class="img-fluid" /></td>
              <td>
                <table class="table">
                  <tbody>
                    <tr>
                      <td>
                        <h4>{{coffeeItem.name}}</h4>
                      </td>
                    </tr>
                    <tr>
                      <td><star-rating labelPosition="right" staticColor="default" [labelText]="coffeeItem.rating + ' (' + coffeeItem.numOfReviews + ' κριτικές)'" [rating]="coffeeItem.rating" [showHalfStars]="true" [readOnly]="true"></star-rating></td>
                    </tr>
                  </tbody>
                </table>
              </td>
              <td class="coffeePrice">{{coffeeItem.price}}€</td>
            </tr>
          </a>
        </tbody>
      </table>
    </div>
  </div>
  <div *ngIf="selectedCoffee > -1" class="coffeeDetails">
    <hr />
    <div class="row coffeeName">
      <div class="col-sm-2 coffeeIconCenter">
        <img src="../../assets/cap.jpg" class="img-fluid" />
      </div>
      <div class="col-sm-8 verticalCenter">
        <h4>{{coffeeShop.coffees[selectedCoffee].name}}</h4>
      </div>
      <div class="col-sm-1 verticalCenter">
        <h4 class="coffeePrice">{{coffeeShop.coffees[selectedCoffee].price}}€</h4>
      </div>
      <div class="col-sm-1 verticalCenter">
        <app-new-price-modal></app-new-price-modal>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <ul class="nav nav-pills justify-content-center coffeeTabs">
          <li class="nav-item">
            <a [ngClass]="activeTab === 'reviews' ? 'nav-link active' : 'nav-link'" (click)="tabClicked('reviews')" [routerLink]="[{ outlets: {detailsView: ['coffee', coffeeShop.coffees[selectedCoffee].id, 'reviews' ] } }]">Αξιολογήσεις</a>
          </li>
          <li class="nav-item">
            <a [ngClass]="activeTab === 'statistics' ? 'nav-link active' : 'nav-link'" (click)="tabClicked('statistics')" [routerLink]="[{ outlets: {detailsView: ['coffee', coffeeShop.coffees[selectedCoffee].id, 'statistics' ] } }]">Στατιστικά</a>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <router-outlet name="detailsView"></router-outlet>
    </div>
  </div>
</div>